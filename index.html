<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Retro Tech Notes</title>
<link rel="stylesheet" href="style.css">
</head>

<body>

<div id="auth" class="panel">
<h2>üîê LOGIN</h2>
<input id="email" placeholder="email">
<input id="password" type="password" placeholder="password">
<button onclick="login()">LOGIN / REGISTER</button>
</div>

<div id="app" class="panel" style="display:none">
<!--
<input type="file" id="ghFile">
<button id="ghUploadBtn">UPLOAD FILE</button>
-->
<input type="file" id="file">
<button id="upload">Upload</button>
<div id="result"></div>

<!---->
<script type="module">

import { createClient } from "https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm"

const supabaseUrl = "https://khjtyijveoihnkvjfxac.supabase.co"
const supabaseKey = "sb_publishable_-BDrhLBnh_5zkdx1yhvlGA_KNt9hK_l"

const supabase = createClient(supabaseUrl, supabaseKey)

const fileInput = document.getElementById("file")
const upload = document.getElementById("upload")
const result = document.getElementById("result")

upload.onclick = async () => {

  const file = fileInput.files[0]

  if(!file){
    alert("‚ö†Ô∏è Vui l√≤ng ch·ªçn file!")
    return
  }

  const name = Date.now()+"_"+file.name

  const { error } = await supabase
    .storage
    .from("uploads")
    .upload(name,file)

  if(error){
    alert("‚ùå Upload l·ªói: "+error.message)
    return
  }

  const { data } = supabase
    .storage
    .from("uploads")
    .getPublicUrl(name)

  alert("‚úÖ Upload th√†nh c√¥ng!")

  result.innerHTML = `
    üìé <a href="${data.publicUrl}" target="_blank">${file.name}</a>
  `

  fileInput.value=""
}

</script>
<!---->
  
<button onclick="changeEmail()">CHANGE EMAIL</button>
  
<button onclick="changePassword()">CHANGE PASSWORD</button>

<h1>üíæ---RETRO TECH NOTES---</h1>

<textarea id="note" placeholder="Write note..."></textarea>

<button onclick="add()">ADD</button>

<button id="exportBtn">EXPORT TXT</button>

<input id="search" placeholder="Search..." onkeyup="render()">

<ul id="list"></ul>

</div>

<script type="module" src="app.js"></script>
</body>
</html>












